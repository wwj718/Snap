<blocks app="Snap! 8.1, https://snap.berkeley.edu" version="2"><palette><category name="Kano Wand" color="3,0,16,1"/><category name="CodeLab Adapter" color="128,128,128,1"/></palette><block-definition s="help âœ¨" type="command" category="Kano Wand"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doApplyExtension"><l>eim_openurl(url)</l><list><l>https://adapter.codelab.club/extension_guide/Kano_Wand/</l></list></block></script></block-definition><block-definition s="%&apos;motion&apos; received?" type="predicate" category="Kano Wand"><header></header><code></code><translations></translations><inputs><input type="%s">motion1<options>motion1&#xD;motion2&#xD;motion3&#xD;motion4&#xD;motion5&#xD;motion6&#xD;motion7</options></input></inputs><script><block s="doReport"><custom-block s="topic: %txt message: %txt received?"><l>eim</l><block var="motion"/></custom-block></block></script></block-definition><block-definition s="topic: %&apos;topic&apos; message: %&apos;message&apos; received?" type="predicate" category="CodeLab Adapter"><variables><list struct="atomic" id="17">old,old_time</list></variables><header></header><code></code><translations></translations><inputs><input type="%txt">eim/extension_python<options>any</options></input><input type="%txt">3<options>any</options></input></inputs><script><block s="doDeclareVariables"><list><l>last_topic</l><l>last_message</l><l>last_time</l></list></block><block s="doIf"><block s="reportNot"><custom-block s="is Adapter running?"></custom-block></block><script><block s="doReport"><block s="reportBoolean"><l><bool>false</bool></l></block></block></script></block><block s="doIf"><block s="reportEquals"><block s="reportApplyExtension"><l>eim_msg</l><list></list></block><l>{}</l></block><script><block s="doReport"><block s="reportBoolean"><l><bool>false</bool></l></block></block></script></block><block s="doSetVar"><l>last_message</l><custom-block s="received message"></custom-block></block><block s="doSetVar"><l>last_topic</l><block s="reportPipe"><block s="reportApplyExtension"><l>eim_msg</l><list></list></block><list><block s="reifyReporter"><autolambda><block s="reportTextSplit"><l></l><l><option>json</option></l></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>message</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>payload</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>node_id</l><l/></block></autolambda><list></list></block></list></block></block><block s="doSetVar"><l>last_time</l><block s="reportApplyExtension"><l>eim_msgtime</l><list></list></block></block><block s="doIf"><block s="reportAnd"><block s="reportGreaterThan"><block var="last_time"/><block var="old_time"/></block><block s="reportAnd"><block s="reportOr"><block s="reportEquals"><block var="topic"/><block var="last_topic"/></block><block s="reportEquals"><block var="topic"/><l>any</l></block></block><block s="reportOr"><block s="reportEquals"><block var="message"/><block var="last_message"/></block><block s="reportEquals"><block var="message"/><l>any</l></block></block></block></block><script><block s="doSetVar"><l>old_time</l><block var="last_time"/></block><block s="doReport"><block s="reportBoolean"><l><bool>true</bool></l></block></block></script></block><block s="doReport"><block s="reportBoolean"><l><bool>false</bool></l></block></block></script></block-definition><block-definition s="is Adapter running?" type="predicate" category="CodeLab Adapter"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><block s="reportApplyExtension"><l>eim_running?</l><list></list></block></block></script></block-definition><block-definition s="received message" type="reporter" category="CodeLab Adapter"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doDeclareVariables"><list><l>variable</l><l>content</l></list></block><block s="doIf"><block s="reportEquals"><block s="reportApplyExtension"><l>eim_msg</l><list></list></block><l>{}</l></block><script><block s="doReport"><l></l></block></script></block><block s="doReport"><block s="reportPipe"><block s="reportApplyExtension"><l>eim_msg</l><list></list></block><list><block s="reifyReporter"><autolambda><block s="reportTextSplit"><l></l><l><option>json</option></l></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>message</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>payload</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>content</l><l/></block></autolambda><list></list></block></list></block></block></script></block-definition></blocks>
<blocks app="Snap! 8.2, https://snap.berkeley.edu" version="2"><palette><category name="Python function" color="22,179,0,1"/><category name="CodeLab Adapter" color="128,128,128,1"/></palette><block-definition s="Î» help" type="command" category="Python function"><comment x="0" y="0" w="90" collapsed="false">v1.0</comment><header></header><code></code><translations></translations><inputs></inputs><script><block s="doApplyExtension"><l>eim_helper(fname, args)</l><list><l>openurl</l><block s="reportNewList"><list><l>https://adapter.codelab.club/extension_guide/extension_python_kernel/</l></list></block></list></block></script></block-definition><block-definition s="Î» %&apos;operate&apos; extension_python" type="command" category="Python function"><header></header><code></code><translations></translations><inputs><input type="%s">start<options>start&#xD;stop</options></input></inputs><script><custom-block s="ğŸ”¥ %s extension: %txt"><block var="operate"/><l>extension_python</l></custom-block><block s="doIf"><block s="reportVariadicLessThan"><list><custom-block s="Î» _extension version"></custom-block><l>1.2</l></list></block><script><block s="doApplyExtension"><l>err_error(msg)</l><list><l>extension_python ç‰ˆæœ¬å¤ªä½ï¼Œè¯·ä¸‹è½½æœ€æ–° Adapter</l></list></block></script></block></script></block-definition><block-definition s="Î» is extension_python turned on?" type="predicate" category="Python function"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><custom-block s="ğŸ”¥ is extension: %txt turned on?"><l>extension_python</l></custom-block></block></script></block-definition><block-definition s="Î» set token %&apos;token&apos;" type="command" category="Python function"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><block s="doApplyExtension"><l>eim_helper(fname, args)</l><list><l>settoken</l><block s="reportNewList"><list><block var="token"/></list></block></list></block></script></block-definition><block-definition s="Î» Python function ( %&apos;parmNames&apos; ) %&apos;body&apos;" type="reporter" category="Python function"><header></header><code></code><translations></translations><inputs><input type="%mult%s"></input><input type="%code"></input></inputs><script><block s="doDeclareVariables"><list><l>format_code</l></list></block><block s="doSetVar"><l>format_code</l><block s="reportConcatenatedLists"><list><block s="reportNewList"><list><block s="reportCombine"><block s="reportConcatenatedLists"><list><block s="reportNewList"><list><l>def _python_function(</l></list></block><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportIfElse"><block s="reportVariadicEquals"><list><block var="index"/><l>1</l></list></block><block var="value"/><block s="reportJoinWords"><list><l>, </l><block var="value"/></list></block></block></autolambda><list><l>value</l><l>index</l></list></block><block var="parmNames"/></block><block s="reportNewList"><list><l>):</l></list></block></list></block><block s="reifyReporter"><autolambda><block s="reportJoinWords"><list><l></l><l></l></list></block></autolambda><list></list></block></block></list></block><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportJoinWords"><list><l>    </l><l></l></list></block></autolambda><list></list></block><block s="reportTextSplit"><block var="body"/><l><option>line</option></l></block></block></list></block></block><block s="doReport"><block s="reportJoinWords"><list><l>exec,</l><block s="reportListAttribute"><l><option>lines</option></l><block var="format_code"/></block></list></block></block></script><scripts><comment x="385.3509114583333" y="329.77777777777766" w="136" collapsed="false">exec, create function&#xD;need token&#xD;&#xD;allow import</comment><script x="942.9993489583334" y="217.77777777777763"><custom-block s="ğŸ”¥ broadcast %txt %txt and wait. %br options %mult%s"><l>eim/extension_python</l><l>1+2</l><list><l></l></list></custom-block></script></scripts></block-definition><block-definition s="Î» call %&apos;block&apos; %&apos;inputs&apos;" type="reporter" category="Python function"><header></header><code></code><translations></translations><inputs><input type="%cmdRing"></input><input type="%mult%s"></input></inputs><script><block s="doDeclareVariables"><list><l>create_function</l><l>call_function</l><l>eval_code</l><l>exec_code</l><l>python_inputs</l></list></block><block s="doSetVar"><l>python_inputs</l><block s="reportMap"><block s="reifyReporter"><script><block s="doIf"><block s="reportIsA"><block var="value"/><l><option>number</option></l></block><script><block s="doReport"><block var="value"/></block></script></block><block s="doIf"><block s="reportIsA"><block var="value"/><l><option>text</option></l></block><script><block s="doReport"><block s="reportJoinWords"><list><l>&apos;</l><block var="value"/><l>&apos;</l></list></block></block></script></block><block s="doIf"><block s="reportIsA"><block var="value"/><l><option>Boolean</option></l></block><script><block s="doReport"><block s="reportIfElse"><block var="value"/><l>True</l><l>False</l></block></block></script></block><block s="doIf"><block s="reportIsA"><block var="value"/><l><option>list</option></l></block><script><block s="doReport"><custom-block s="Î» _to python list %l"><block var="value"/></custom-block></block></script></block></script><list><l>value</l></list></block><block var="inputs"/></block></block><block s="doSetVar"><l>exec_code</l><block var="block"/></block><block s="doSetVar"><l>eval_code</l><block s="reportJoinWords"><list><l>eval,</l><l>_python_function(</l><block s="reportCombine"><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportIfElse"><block s="reportVariadicEquals"><list><block var="index"/><l>1</l></list></block><block var="value"/><block s="reportJoinWords"><list><l>, </l><block var="value"/></list></block></block></autolambda><list><l>value</l><l>index</l></list></block><block var="python_inputs"/></block><block s="reifyReporter"><autolambda><block s="reportJoinWords"><list><l></l><l></l></list></block></autolambda><list></list></block></block><l>)</l></list></block></block><block s="doSetVar"><l>create_function</l><custom-block s="ğŸ”¥ broadcast %txt %txt and wait. %br options %mult%s"><l>eim/extension_python</l><block var="exec_code"/><list><l></l></list></custom-block></block><block s="doIf"><custom-block s="text %txt contains %txt"><block var="create_function"/><l>error: </l></custom-block><script><block s="doApplyExtension"><l>err_error(msg)</l><list><block var="create_function"/></list></block></script></block><block s="doSetVar"><l>call_function</l><custom-block s="ğŸ”¥ broadcast %txt %txt and wait. %br options %mult%s"><l>eim/extension_python</l><block var="eval_code"/><list><l></l></list></custom-block></block><block s="doIf"><custom-block s="text %txt contains %txt"><block var="call_function"/><l>error: </l></custom-block><script><block s="doApplyExtension"><l>err_error(msg)</l><list><block var="call_function"/></list></block></script></block><block s="doReport"><block var="call_function"/></block></script><scripts><comment x="418.66666666666674" y="34.7999999999999" w="90" collapsed="false">list é€é¡¹æ›¿ä»£</comment><script x="192.12820512820508" y="811.0051282051274"><block s="doReport"><block s="reportNewList"><list><block var="exec_code"/><block var="eval_code"/><block var="create_function"/><block var="call_function"/></list></block></block></script></scripts></block-definition><block-definition s="Î» run %&apos;block&apos; %&apos;inputs&apos;" type="command" category="Python function"><header></header><code></code><translations></translations><inputs><input type="%cmdRing"></input><input type="%mult%s"></input></inputs><script><custom-block s="ğŸ”¥ _ignore %s"><custom-block s="Î» call %cmdRing %mult%s"><block var="block"/><block var="inputs"/></custom-block></custom-block></script></block-definition><block-definition s="Î» examples" type="command" category="Python function"><header></header><code></code><translations></translations><inputs></inputs><scripts><script x="34.230769230769226" y="73.25641025641032"><custom-block s="Î» run %cmdRing %mult%s"><custom-block s="Î» Python function ( %mult%s ) %code"><list><l>path</l></list><l>from codelab_adapter.utils import open_path_in_system_file_manager&#xD;open_path_in_system_file_manager(path)</l></custom-block><list><l>/tmp</l></list></custom-block></script><script x="42.538461538461505" y="174.99999999999994"><custom-block s="Î» call %cmdRing %mult%s"><custom-block s="Î» Python function ( %mult%s ) %code"><list><l>x</l><l>y</l></list><l>return x + y</l></custom-block><list><l>1</l><l>2</l></list></custom-block></script><script x="42.30769230769231" y="212.69230769230768"><custom-block s="Î» call %cmdRing %mult%s"><custom-block s="Î» Python function ( %mult%s ) %code"><list></list><l>return 2</l></custom-block><list></list></custom-block></script><script x="36.92307692307692" y="261.4871794871795"><block s="reportTextSplit"><custom-block s="Î» call %cmdRing %mult%s"><custom-block s="Î» Python function ( %mult%s ) %code"><list><l>lst</l><l>x</l><l>y</l></list><l>import json&#xD;return json.dumps(lst)</l></custom-block><list><block s="reportNewList"><list><l>a</l><block s="reportNewList"><list><l>b</l><block s="reportBoolean"><l><bool>false</bool></l></block><l>1</l></list></block><l>2</l></list></block><l>1</l><l>2</l></list></custom-block><l><option>json</option></l></block></script><script x="40.76923076923077" y="364.2307692307691"><custom-block s="Î» _to python list %l"><block s="reportNewList"><list><l>a</l><block s="reportNewList"><list><l>b</l><block s="reportBoolean"><l><bool>false</bool></l></block><l>1</l></list></block><l>2</l></list></block></custom-block></script></scripts></block-definition><block-definition s="Î» _to python list %&apos;snap_list&apos;" type="reporter" category="Python function" helper="true"><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><block s="doReport"><block s="reportJoinWords"><list><l>[</l><block s="reportCombine"><block s="reportMap"><block s="reifyReporter"><script><block s="doIf"><block s="reportIsA"><block var="value"/><l><option>number</option></l></block><script><block s="doReport"><block var="value"/></block></script></block><block s="doIf"><block s="reportIsA"><block var="value"/><l><option>text</option></l></block><script><block s="doReport"><block s="reportJoinWords"><list><l>&apos;</l><block var="value"/><l>&apos;</l></list></block></block></script></block><block s="doIf"><block s="reportIsA"><block var="value"/><l><option>Boolean</option></l></block><script><block s="doReport"><block s="reportIfElse"><block var="value"/><l>True</l><l>False</l></block></block></script></block><block s="doIf"><block s="reportIsA"><block var="value"/><l><option>list</option></l></block><script><block s="doReport"><custom-block s="Î» _to python list %l"><block var="value"/></custom-block></block></script></block></script><list><l>value</l></list></block><block var="snap_list"/></block><block s="reifyReporter"><script><block s="doReport"><block s="reportJoinWords"><list><block var="#1"/><block s="reportJoinWords"><list><l>, </l><block var="#2"/></list></block></list></block></block></script><list><l>#1</l><l>#2</l></list></block></block><l>]</l></list></block></block></script><scripts><script x="247.04492187499994" y="177.33333333333312"><block var="value"/></script><comment x="545.6666666666664" y="85.46666666666643" w="172.66666666666666" collapsed="false">é€’å½’&#xD;&#xD;åŸå­ç±»å‹&#xD;  æ•°å­—, å­—ç¬¦ä¸²ï¼Œbool&#xD;å¤åˆæ•°æ® list</comment></scripts></block-definition><block-definition s="text %&apos;string&apos; contains %&apos;marker&apos;" type="predicate" category="operators"><comment x="0" y="0" w="218.00000000000003" collapsed="false">Reports True if the first input string contains the second input string, otherwise false.&#xD;&#xD;Comparison is case-independent by default; use USE CASE-INDEPENDENT COMPARISONS to change that.</comment><header></header><code></code><translations>pt:o texto de _ antes de _&#xD;ca:text _ contÃ© _ ?&#xD;</translations><inputs><input type="%txt"></input><input type="%txt"></input></inputs><script><block s="doReport"><block s="reportVariadicGreaterThan"><list><custom-block s="position of %s in %txt"><block var="marker"/><block var="string"/></custom-block><l>0</l></list></block></block></script></block-definition><block-definition s="position of %&apos;small&apos; in %&apos;large&apos;" type="reporter" category="operators"><comment x="0" y="0" w="294" collapsed="false">Reports the character position (starting from 1) of the beginning of the first input string inside the second input string.&#xD;If it&apos;s not found, reports 0.</comment><header></header><code></code><translations>pt:a posiÃ§Ã£o de _ em _&#xD;ca:posiciÃ³ de _ en _&#xD;</translations><inputs><input type="%s"></input><input type="%txt"></input></inputs><script><block s="doReport"><block s="reportIfElse"><custom-block s="use case-independent comparison"></custom-block><block s="reportApplyExtension"><l>txt_indexof(sub, txt)</l><list><custom-block s="to lower case %txt"><block var="small"/></custom-block><custom-block s="to lower case %txt"><block var="large"/></custom-block></list></block><block s="reportApplyExtension"><l>txt_indexof(sub, txt)</l><list><block var="small"/><block var="large"/></list></block></block></block></script></block-definition><block-definition s="use case-independent comparison" type="predicate" category="sensing"><header></header><code></code><translations>ca:comparacions ignorant majÃºscules?&#xD;</translations><inputs></inputs><script><block s="doDeclareVariables"><list><l>result</l></list></block><block s="doApplyExtension"><l>err_try(cmd, catch, err)</l><list><block s="reifyScript"><script><block s="doSetVar"><l>result</l><block s="reportApplyExtension"><l>var_get(name)</l><list><l>_case indepent</l></list></block></block></script><list></list></block><block s="reifyScript"><script><block s="doSetVar"><l>result</l><block s="reportBoolean"><l><bool>true</bool></l></block></block></script><list></list></block><l></l></list></block><block s="doApplyExtension"><l>err_reset</l><list></list></block><block s="doReport"><block var="result"/></block></script></block-definition><block-definition s="to lower case %&apos;text&apos;" type="reporter" category="operators"><comment x="0" y="0" w="275.3333333333333" collapsed="false">Reports the input text with lower case letters instead of capital letters in the input.  Uses the user&apos;s locale&apos;s rules for case conversion.</comment><header></header><code></code><translations>pt:em minÃºsculas _&#xD;ca:_ a minÃºscules&#xD;</translations><inputs><input type="%txt"></input></inputs><script><block s="doReport"><block s="reportApplyExtension"><l>txt_lowercase(txt)</l><list><block s="reportJoinWords"><list><block var="text"/></list></block></list></block></block></script></block-definition><block-definition s="ğŸ”¥ %&apos;operate&apos; extension: %&apos;ext_name&apos;" type="command" category="CodeLab Adapter"><comment x="0" y="0" w="164" collapsed="false">å¯åŠ¨/åœæ­¢ æ’ä»¶</comment><header></header><code></code><translations></translations><inputs><input type="%s" readonly="true">start<options>start&#xD;stop</options></input><input type="%txt">extension_python<options>extension_usb_microbit&#xD;extension_microbit_radio&#xD;extension_jupyterlab&#xD;extension_python&#xD;extension_NetworkZero&#xD;extension_arduino_uno&#xD;extension_simple_pyboard&#xD;extension_uart_adapter&#xD;extension_Yanshee&#xD;extension_Siri&#xD;extension_webserver&#xD;extension_webUI_manager&#xD;extension_stage&#xD;extension_wechat</options></input></inputs><script><block s="doDeclareVariables"><list><l>isDone</l></list></block><block s="doIf"><block s="reportNot"><custom-block s="ğŸ”¥ is Adapter running?"></custom-block></block><script><block s="doApplyExtension"><l>err_error(msg)</l><list><l>è¯·è¿è¡Œ Adapter</l></list></block></script></block><block s="doIf"><block s="reportVariadicAnd"><list><block s="reportVariadicEquals"><list><block var="operate"/><l>stop</l></list></block><block s="reportNot"><custom-block s="ğŸ”¥ is extension: %txt turned on?"><block var="ext_name"/></custom-block></block></list></block><script><block s="doStopThis"><l><option>this block</option></l></block></script></block><block s="doApplyExtension"><l>eim_control(plugin, content, ext)</l><list><l>extension</l><block var="operate"/><block var="ext_name"/></list></block><block s="doWaitUntil"><block var="isDone"/></block></script></block-definition><block-definition s="ğŸ”¥ broadcast %&apos;node_id&apos; %&apos;content&apos; and wait. $nl options %&apos;options&apos;" type="reporter" category="CodeLab Adapter"><comment x="0" y="0" w="344" collapsed="false">å¾€æŸä¸ªä¸»é¢˜å‘é€æ¶ˆæ¯ï¼Œå¹¶ç­‰å¾…è¿”å›ç»“æœï¼ˆå‘å¾€Adapterï¼‰&#xD;options çš„ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šå½“å‰ç§¯æœ¨çš„è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤æ˜¯ 5 ç§’ï¼Œç”± set timeout æ§åˆ¶</comment><header></header><code></code><translations>zh_CN:ğŸ”¥ å¹¿æ’­ _ _ å¹¶ç­‰å¾….&#xD;</translations><inputs><input type="%txt">eim/extension_python</input><input type="%txt">1+2</input><input type="%mult%s"></input></inputs><script><block s="doDeclareVariables"><list><l>isDone</l><l>reply</l></list></block><block s="doIf"><custom-block s="text %txt contains %txt"><block var="node_id"/><l>extension_</l></custom-block><script><block s="doIf"><block s="reportNot"><custom-block s="ğŸ”¥ is extension: %txt turned on?"><block s="reportListItem"><l>2</l><block s="reportTextSplit"><block var="node_id"/><l>/</l></block></block></custom-block></block><script><block s="doApplyExtension"><l>err_error(msg)</l><list><block s="reportJoinWords"><list><l>è¯·å¼€å¯ </l><block var="node_id"/><l> æ’ä»¶</l></list></block></list></block></script></block></script></block><block s="doIf"><custom-block s="text %txt contains %txt"><block var="node_id"/><l>node_</l></custom-block><script><block s="doIf"><block s="reportNot"><custom-block s="ğŸ”¥ is node: %txt turned on?."><block s="reportListItem"><l>2</l><block s="reportTextSplit"><block var="node_id"/><l>/</l></block></block></custom-block></block><script><block s="doApplyExtension"><l>err_error(msg)</l><list><block s="reportJoinWords"><list><l>è¯·å¼€å¯ </l><block var="node_id"/><l> æ’ä»¶</l></list></block></list></block></script></block></script></block><block s="doApplyExtension"><l>eim_broadcastwait(node_id, content, timeout)</l><list><block var="node_id"/><block var="content"/><block s="reportListItem"><l>1</l><block var="options"/></block></list><comment w="223.33333333333334" collapsed="false">timeout é»˜è®¤æ˜¯ 5 ç§’(ç”±set timeout ç§¯æœ¨æ§åˆ¶)&#xD;&#xD;</comment></block><block s="doWaitUntil"><block var="isDone"/></block><block s="doReport"><block var="reply"/></block></script></block-definition><block-definition s="ğŸ”¥ is extension: %&apos;ext_name&apos; turned on?" type="predicate" category="CodeLab Adapter"><comment x="0" y="0" w="268" collapsed="false">æ£€æŸ¥æ’ä»¶æ˜¯å¦å¯åŠ¨</comment><header></header><code></code><translations>zh_CN:ğŸ”¥ _ å·²å¼€å¯?&#xD;</translations><inputs><input type="%txt">extension_python<options>extension_usb_microbit&#xD;extension_microbit_radio&#xD;extension_jupyterlab&#xD;extension_python&#xD;extension_NetworkZero&#xD;extension_arduino_uno&#xD;extension_simple_pyboard&#xD;extension_uart_adapter&#xD;extension_Yanshee&#xD;extension_Siri&#xD;extension_webserver&#xD;extension_webUI_manager&#xD;extension_stage&#xD;extension_wechat</options></input></inputs><script><block s="doIf"><block s="reportNot"><custom-block s="ğŸ”¥ is Adapter running?"></custom-block></block><script><block s="doApplyExtension"><l>err_error(msg)</l><list><l>è¯·è¿è¡Œ Adapter</l></list></block></script></block><block s="doReport"><block s="reportPipe"><block s="reportApplyExtension"><l>eim_get(name)</l><list><l>extstate</l></list></block><list><block s="reifyReporter"><autolambda><block s="reportTextSplit"><l></l><l><option>json</option></l></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><block var="ext_name"/><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>is_running</l><l/></block></autolambda><list></list></block></list></block></block></script></block-definition><block-definition s="ğŸ”¥ is Adapter running?" type="predicate" category="CodeLab Adapter"><comment x="0" y="0" w="192" collapsed="false">æ£€æŸ¥Adapteræ˜¯å¦è¿è¡Œ</comment><header></header><code></code><translations>zh_CN:ğŸ”¥ Adapter å·²å¼€å¯?&#xD;</translations><inputs></inputs><script><block s="doReport"><block s="reportApplyExtension"><l>eim_get(name)</l><list><l>running</l></list></block></block></script></block-definition><block-definition s="ğŸ”¥ is node: %&apos;node_name&apos; turned on?." type="predicate" category="CodeLab Adapter"><comment x="0" y="0" w="90" collapsed="false">æ£€æŸ¥èŠ‚ç‚¹æ˜¯å¦å¯åŠ¨</comment><header></header><code></code><translations>zh_CN:ğŸ”¥ _ å·²å¼€å¯?.&#xD;</translations><inputs><input type="%txt">node_physical_blocks2<options>node_cozmo&#xD;node_physical_blocks2&#xD;node_vector&#xD;node_HCI&#xD;node_minecraft&#xD;node_yeelight&#xD;node_RoboMasterEP2&#xD;node_status_bar_win&#xD;node_motionSensor_gesture&#xD;node_adapterMario&#xD;node_motionSensor_proximity&#xD;node_spheroRVR&#xD;node_ledbag&#xD;node_brainCo&#xD;node_overdrive2&#xD;node_overdrive&#xD;node_status_bar_mac&#xD;node_tello3&#xD;node_raspberrypi&#xD;node_yeelight_2&#xD;node_sonicPi&#xD;node_alphamini&#xD;node_digimon</options></input></inputs><script><block s="doIf"><block s="reportNot"><custom-block s="ğŸ”¥ is Adapter running?"></custom-block></block><script><block s="doApplyExtension"><l>err_error(msg)</l><list><l>è¯·è¿è¡Œ Adapter</l></list></block></script></block><block s="doReport"><block s="reportPipe"><block s="reportApplyExtension"><l>eim_get(name)</l><list><l>nodesstate</l></list></block><list><block s="reifyReporter"><autolambda><block s="reportTextSplit"><l></l><l><option>json</option></l></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><block var="node_name"/><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>is_running</l><l/></block></autolambda><list></list></block></list></block></block></script></block-definition><block-definition s="ğŸ”¥ _ignore %&apos;value&apos;" type="command" category="CodeLab Adapter"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs></block-definition><block-definition s="Î» _extension version" type="reporter" category="Python function" helper="true"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><block s="reportPipe"><block s="reportApplyExtension"><l>eim_get(name)</l><list><l>extstate</l></list></block><list><block s="reifyReporter"><autolambda><block s="reportTextSplit"><l></l><l><option>json</option></l></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>extension_python</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>VERSION</l><l/></block></autolambda><list></list></block></list></block></block></script></block-definition></blocks>